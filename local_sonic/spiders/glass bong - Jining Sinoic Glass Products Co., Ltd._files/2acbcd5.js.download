(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1284:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(a(75)),n=r(a(1285)),o=r(a(1302)),u=r(a(193)),s=0,f={mode:"auto"};u.default.mediaSources={};var d=function(e,t){var a=u.default.mediaSources[e];if(!a)throw new Error("Media Source not found (Video.js)");a.trigger({type:"sourceopen",swfId:t})},c=function(){return!!i.default.MediaSource&&!!i.default.MediaSource.isTypeSupported&&i.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},h=function(e){var t=u.default.mergeOptions(f,e);if(this.MediaSource={open:d,supportsNativeMediaSources:c},"html5"===t.mode||"auto"===t.mode&&c())return new o.default;if(u.default.getTech("Flash"))return new n.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};t.MediaSource=h,h.open=d,h.supportsNativeMediaSources=c;var l={createObjectURL:function(e){var t=void 0;return e instanceof o.default?(t=i.default.URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof n.default?(t="blob:vjs-media-source/"+s,s++,u.default.mediaSources[t]=e,t):(t=i.default.URL.createObjectURL(e),e.url_=t,t)}};t.URL=l,u.default.MediaSource=h,u.default.URL=l},1285:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var n=i(a(414)),o=i(a(193)),u=i(a(1293)),s=i(a(633)),f=a(294),d=function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,n);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return;e=f,t=n,a=o,r=!0,u=f=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],(function(t){e.swfObj=n.default.getElementById(t.swfId),e.player_=(0,o.default)(e.swfObj.parentNode),e.tech_=e.swfObj.tech,e.readyState="open",e.tech_.on("seeking",(function(){for(var t=e.sourceBuffers.length;t--;)e.sourceBuffers[t].abort()})),e.swfObj&&e.swfObj.vjs_load()}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t,a=(0,f.parseContentType)(e);if("video/mp2t"!==a.type&&"audio/mp2t"!==a.type)throw new Error("NotSupportedError (Video.js)");return t=new u.default(this),this.sourceBuffers.push(t),t}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),t}(o.default.EventTarget);t.default=d;try{Object.defineProperty(d.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,a=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<a)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,a);return e}})}catch(e){d.prototype.duration=NaN}for(var c in s.default)d[c]=s.default[c];e.exports=t.default},1293:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var n=i(a(75)),o=i(a(193)),u=i(a(627)),s=i(a(293)),f=i(a(631)),d=a(419),c=i(a(632)),h=i(a(420)),l=i(a(633)),p=function(e){n.default.setTimeout(e,l.default.TIME_BETWEEN_CHUNKS)},_=function(){return Math.random().toString(36).slice(2,8)},v=function(e,t){("number"!=typeof t||t<0)&&(t=0);var a=Math.pow(10,t);return Math.round(e*a)/a},g=function(e){function t(e){var a,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,n);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return;e=f,t=n,a=o,r=!0,u=f=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.chunkSize_=l.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,a=n.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(u.default.getFlvHeader())));var i=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+i+_(),this.flashEncodedDataName_="vjs_flashEncodedData_"+i+_(),n.default[this.flashEncodedHeaderName_]=function(){return delete n.default[r.flashEncodedHeaderName_],a},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,h.default)(c.default,function(){var e=void 0;try{e=632}catch(e){}return e}()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&r.receiveBuffer_(e.data.segment)},this.one("updateend",(function(){r.mediaSource_.tech_.trigger("loadedmetadata")})),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!this.mediaSource_||!this.mediaSource_.swfObj||!("vjs_getProperty"in this.mediaSource_.swfObj))return o.default.createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=v(e[0][0],3),e[0][1]=v(e[0][1],3)),o.default.createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",(function(){if((0,s.default)(0,1/0,r.metadataTrack_),r.inbandTextTracks_)for(var e in r.inbandTextTracks_)(0,s.default)(0,1/0,r.inbandTextTracks_[e])}));var f=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",f),this.mediaSource_.player_.tech_.hls.on("dispose",(function(){r.transmuxer_.terminate(),r.mediaSource_.player_.tech_.off("hls-reset",f)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"appendBuffer",value:function(e){var t=void 0;if(this.updating)throw(t=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){if((0,s.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var a in this.inbandTextTracks_)(0,s.default)(e,t,this.inbandTextTracks_[a]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(e){var t=this;(0,f.default)(this,this.mediaSource_,e),(0,d.addTextTrackData)(this,e.captions,e.metadata),p((function(){var a=t.convertTagsToData_(e);0===t.buffer_.length&&p(t.processBuffer_.bind(t)),a&&(t.buffer_.push(a),t.bufferSize_+=a.byteLength)}))}},{key:"processBuffer_",value:function(){var e=this,t=l.default.BYTES_PER_CHUNK;if(this.buffer_.length){var a=this.buffer_[0].subarray(0,t);a.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=a.byteLength;for(var r=[],i=a.byteLength,o=0;o<i;o++)r.push(String.fromCharCode(a[o]));var u=n.default.btoa(r.join(""));n.default[this.flashEncodedDataName_]=function(){return p(e.processBuffer_.bind(e)),delete n.default[e.flashEncodedDataName_],u},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(e){var t=0,a=this.mediaSource_.tech_,r=0,i=void 0,n=e.tags.videoTags,o=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(n.length||o.length)){var u=n[0]||{pts:1/0},s=o[0]||{pts:1/0};this.basePtsOffset_=Math.min(s.pts,u.pts)}a.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(a.buffered().length&&(r=a.buffered().end(0)-this.timestampOffset),a.seeking()&&(r=Math.max(r,a.currentTime()-this.timestampOffset)),r*=1e3,r+=this.basePtsOffset_):r=this.videoBufferEnd_+.1;var f=n.length;if(f&&n[f-1].pts>=r){for(;--f;){var d=n[f];if(!(d.pts>r)&&(d.keyFrame||d.metaDataTag))break}for(;f&&n[f-1].metaDataTag;)f--}var c=n.slice(f),h=void 0;for(h=isNaN(this.audioBufferEnd_)?r:this.audioBufferEnd_+.1,c.length&&(h=Math.min(h,c[0].pts)),f=0;f<o.length&&!(o[f].pts>=h);)f++;var l=o.slice(f);l.length&&(this.audioBufferEnd_=l[l.length-1].pts),c.length&&(this.videoBufferEnd_=c[c.length-1].pts);var p=this.getOrderedTags_(c,l);if(0!==p.length){if(p[0].pts<r&&a.seeking()){var _=a.currentTime()-(r-p[0].pts)/1e3;_<1/30&&(_=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(_)}catch(e){}}for(var v=0;v<p.length;v++)t+=p[v].bytes.byteLength;i=new Uint8Array(t),v=0;for(var g=0;v<p.length;v++)i.set(p[v].bytes,g),g+=p[v].bytes.byteLength;return i}}},{key:"getOrderedTags_",value:function(e,t){for(var a=void 0,r=[];e.length||t.length;)a=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),r.push(a);return r}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),t}(o.default.EventTarget);t.default=g,e.exports=t.default},1302:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var n=i(a(75)),o=i(a(414)),u=i(a(193)),s=i(a(1303)),f=a(419),d=a(294),c=function(e){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,n);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return;e=f,t=n,a=o,r=!0,u=f=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var a=void 0;for(a in this.nativeMediaSource_=new n.default.MediaSource,this.nativeMediaSource_)a in t.prototype||"function"!=typeof this.nativeMediaSource_[a]||(this[a]=this.nativeMediaSource_[a].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?u.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var a=!1,r=!0,i=0;i<e.player_.audioTracks().length;i++){var n=e.player_.audioTracks()[i];if(n.enabled&&"main"!==n.kind){a=!0,r=!1;break}}e.sourceBuffers.forEach((function(t){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=a;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,r=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=r,r))return;e.activeSourceBuffers_.push(t)}))},this.onPlayerMediachange_=function(){e.sourceBuffers.forEach((function(e){e.appendAudioInitSegment_=!0}))},this.onHlsReset_=function(){e.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})}))},this.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach((function(e){return e.timeMapping_=t.mapping}))},["sourceopen","sourceclose","sourceended"].forEach((function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))}),this),this.on("sourceopen",(function(t){var a=o.default.querySelector('[src="'+e.url_+'"]');a&&(e.player_=(0,u.default)(a.parentNode),e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_))})),this.on("sourceended",(function(t){for(var a=(0,f.durationOfVideo)(e.duration),r=0;r<e.sourceBuffers.length;r++){var i=e.sourceBuffers[r],n=i.metadataTrack_&&i.metadataTrack_.cues;n&&n.length&&(n[n.length-1].endTime=a)}})),this.on("sourceclose",(function(e){this.sourceBuffers.forEach((function(e){e.transmuxer_&&e.transmuxer_.terminate()})),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addSeekableRange_",value:function(e,t){var a=void 0;if(this.duration!==1/0)throw(a=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",a.code=11,a;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,a=(0,d.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(a.type)){var r=[];a.parameters&&a.parameters.codecs&&(r=a.parameters.codecs.split(","),r=(r=(0,d.translateLegacyCodecs)(r)).filter((function(e){return(0,d.isAudioCodec)(e)||(0,d.isVideoCodec)(e)}))),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new s.default(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(u.default.EventTarget);t.default=c,e.exports=t.default},1303:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var n=i(a(193)),o=i(a(631)),u=i(a(293)),s=a(419),f=i(a(420)),d=i(a(634)),c=a(294),h=function(e,t,a){if(!t||!e.length)return[];var r=Math.ceil(9e4*(t.currentTime()-a+3)),i=void 0;for(i=0;i<e.length&&!(e[i].pts>r);i++);return e.slice(i)};t.gopsSafeToAlignWith=h;var l=function(e,t,a){if(!t.length)return e;if(a)return t.slice();for(var r=t[0].pts,i=0;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)};t.updateGopBuffer=l;var p=function(e,t,a,r){for(var i=Math.ceil(9e4*(t-r)),n=Math.ceil(9e4*(a-r)),o=e.slice(),u=e.length;u--&&!(e[u].pts<=n););if(-1===u)return o;for(var s=u+1;s--&&!(e[s].pts<=i););return s=Math.max(s,0),o.splice(s,u-s+1),o};t.removeGopBuffer=p;var _=function(e){function t(e,a){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,a){for(var r=!0;r;){var i=e,n=t,o=a;r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,n);if(void 0!==u){if("value"in u)return u.value;var s=u.get;if(void 0===s)return;return s.call(o)}var f=Object.getPrototypeOf(i);if(null===f)return;e=f,t=n,a=o,r=!0,u=f=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=a,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=n.default.browser.IE_VERSION>=11;var i={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach((function(e){(0,c.isAudioCodec)(e)?r.audioCodec_=e:(0,c.isVideoCodec)(e)&&(r.videoCodec_=e)})),this.transmuxer_=(0,f.default)(d.default,function(){var e=void 0;try{e=634}catch(e){}return e}()),this.transmuxer_.postMessage({action:"init",options:i}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?r.data_(e):"done"===e.data.action?r.done_(e):"gopInfo"===e.data.action?r.appendGopInfo_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,a=0,r=[],i=[];if(!this.videoBuffer_&&!this.audioBuffer_)return n.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return n.default.createTimeRange();for(var o=this.videoBuffer_.buffered,u=this.audioBuffer_.buffered,s=o.length;s--;)r.push({time:o.start(s),type:"start"}),r.push({time:o.end(s),type:"end"});for(s=u.length;s--;)r.push({time:u.start(s),type:"start"}),r.push({time:u.end(s),type:"end"});for(r.sort((function(e,t){return e.time-t.time})),s=0;s<r.length;s++)"start"===r[s].type?2==++a&&(e=r[s].time):"end"===r[s].type&&1==--a&&(t=r[s].time),null!==e&&null!==t&&(i.push([e,t]),e=null,t=null);return n.default.createTimeRanges(i)}})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,o.default)(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach((function(a){if(e[a+"Codec_"]&&!e[a+"Buffer_"]){var r=null;if(e.mediaSource_[a+"Buffer_"])(r=e.mediaSource_[a+"Buffer_"]).updating=!1;else{var i=a+'/mp4;codecs="'+e[a+"Codec_"]+'"';r=function(e,t){var a=e.addSourceBuffer(t),r=Object.create(null);r.updating=!1,r.realBuffer_=a;var i=function(e){"function"==typeof a[e]?r[e]=function(){return a[e].apply(a,arguments)}:void 0===r[e]&&Object.defineProperty(r,e,{get:function(){return a[e]},set:function(t){return a[e]=t}})};for(var n in a)i(n);return r}(e.mediaSource_.nativeMediaSource_,i),e.mediaSource_[a+"Buffer_"]=r}e[a+"Buffer_"]=r,["update","updatestart","updateend"].forEach((function(i){r.addEventListener(i,(function(){if("audio"!==a||!e.audioDisabled_)return"updateend"===i&&(e[a+"Buffer_"].updating=!1),t.every((function(t){return!("audio"!==t||!e.audioDisabled_)||a===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating}))?e.trigger(i):void 0}))}))}}))}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:h(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=l(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=p(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,u.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var a in this.inbandTextTracks_)(0,u.default)(e,t,this.inbandTextTracks_[a])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce((function(e,t){var a=t.type,r=t.data,i=t.initSegment;return e[a].segments.push(r),e[a].bytes+=r.byteLength,e[a].initSegment=i,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[a].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e}),e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,s.addTextTrackData)(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var a=0,r=void 0;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach((function(e){r.set(e,a),a+=e.byteLength}));try{t.updating=!0,t.appendBuffer(r)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(n.default.EventTarget);t.default=_},293:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var r=void 0,i=void 0;if(a&&a.cues)for(r=a.cues.length;r--;)(i=a.cues[r]).startTime<=t&&i.endTime>=e&&a.removeCue(i)},e.exports=t.default},294:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isAudioCodec:function(e){return/mp4a\.\d+.\d+/i.test(e)},parseContentType:function(e){var t={type:"",parameters:{}},a=e.trim().split(";");return t.type=a.shift().trim(),a.forEach((function(e){var a=e.trim().split("=");if(a.length>1){var r=a[0].replace(/"/g,"").trim(),i=a[1].replace(/"/g,"").trim();t.parameters[r]=i}})),t},isVideoCodec:function(e){return/avc1\.[\da-f]+/i.test(e)},translateLegacyCodecs:function(e){return e.map((function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,a){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(a).toString(16)).slice(-2)}))}))}},e.exports=t.default},419:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(a(75)),n=r(a(193)),o=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e};t.default={addTextTrackData:function(e,t,a){var r,u=i.default.WebKitDataCue||i.default.VTTCue;t&&t.forEach((function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new u(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))}),e),a&&(r=o(e.mediaSource_.duration),a.forEach((function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach((function(e){var a=new u(t,t,e.value||e.url||e.data||"");a.frame=e,a.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return n.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return n.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return n.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(a),this.metadataTrack_.addCue(a)}),this)}),e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length&&function(){for(var t=e.metadataTrack_.cues,a=[],i=0;i<t.length;i++)t[i]&&a.push(t[i]);var n=a.reduce((function(e,t){var a=e[t.startTime]||[];return a.push(t),e[t.startTime]=a,e}),{}),o=Object.keys(n).sort((function(e,t){return Number(e)-Number(t)}));o.forEach((function(e,t){var a=n[e],i=Number(o[t+1])||r;a.forEach((function(e){e.endTime=i}))}))}())},durationOfVideo:o},e.exports=t.default},631:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var r=t.player_;if(a.captions&&a.captions.length)for(var i in e.inbandTextTracks_||(e.inbandTextTracks_={}),a.captionStreams)if(!e.inbandTextTracks_[i]){r.tech_.trigger({type:"usage",name:"hls-608"});var n=r.textTracks().getTrackById(i);e.inbandTextTracks_[i]=n||r.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}a.metadata&&a.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=a.metadata.dispatchType)},e.exports=t.default},632:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var n=i(a(75)),o=i(a(627)),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t||{},this.init()}return r(e,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new o.default.Transmuxer(this.options),(e=this.transmuxer).on("data",(function(e){n.default.postMessage({action:"data",segment:e})})),e.on("done",(function(e){n.default.postMessage({action:"done"})}))}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),e}(),s=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new u(e.data.options):(this.messageHandlers||(this.messageHandlers=new u),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};t.default=function(e){return new s(e)},e.exports=t.default},633:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768},e.exports=t.default},634:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var n=i(a(75)),o=i(a(1304)),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t||{},this.init()}return r(e,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new o.default.Transmuxer(this.options),(e=this.transmuxer).on("data",(function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var a=e.data;e.data=a.buffer,n.default.postMessage({action:"data",segment:e,byteOffset:a.byteOffset,byteLength:a.byteLength},[e.data])})),e.captionStream&&e.captionStream.on("data",(function(e){n.default.postMessage({action:"caption",data:e})})),e.on("done",(function(e){n.default.postMessage({action:"done"})})),e.on("gopInfo",(function(e){n.default.postMessage({action:"gopInfo",gopInfo:e})}))}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}(),s=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new u(e.data.options):(this.messageHandlers||(this.messageHandlers=new u),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};t.default=function(e){return new s(e)},e.exports=t.default}}]);